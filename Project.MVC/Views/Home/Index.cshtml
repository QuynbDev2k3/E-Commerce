    @using Project.Business.Model
@using Project.MvcModule.Models
@using Project.MvcModule.SocialMedialViewComponent;
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Categories Section Begin -->
<section class="categories">
    <div class="container-fluid">

        <div class="row">
            <div class="col-lg-6 p-0">
                <div class="categories__item categories__large__item set-bg position-relative"
                     data-setbg="assets/images/categories/category-1.jpg">
                    <div class="categories__text position-absolute top-0 start-0 p-3">
                        <h1>Giày thể thao nam</h1>
                        <p>
                            Khám phá bộ sưu tập giày thể thao nam mới nhất, phù hợp cho mọi hoạt động thể thao và phong cách hàng ngày.
                        </p>
                        <a asp-controller="ListProducts" asp-action="ListProducts">Mua ngay</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-6 p-0">
                        <div class="categories__item set-bg" data-setbg="assets/images/topcategories/category-2.jpg">
                            <div class="categories__text">
                                <h4>Giày chạy bộ</h4>
                                
                                <a asp-controller="ListProducts" asp-action="ListProducts">Mua ngay</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 p-0">
                        <div class="categories__item set-bg" data-setbg="assets/images/topcategories/category-3.jpg">
                            <div class="categories__text">
                                <h4>Giày bóng rổ</h4>
                                
                                <a asp-controller="ListProducts" asp-action="ListProducts">Mua ngay</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 p-0">
                        <div class="categories__item set-bg" data-setbg="assets/images/topcategories/category-4.jpg">
                            <div class="categories__text">
                                <h4>Giày tennis</h4>
                                
                                <a asp-controller="ListProducts" asp-action="ListProducts">Mua ngay</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 p-0">
                        <div class="categories__item set-bg" data-setbg="assets/images/topcategories/category-5.jpg">
                            <div class="categories__text">
                                <h4>Giày tập gym</h4>
                                
                                <a asp-controller="ListProducts" asp-action="ListProducts">Mua ngay</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="container">
    <div class="row">
        <div class="col-lg-4 col-md-4">
            <div class="section-title">
                <h4>Mã giảm giá</h4>
            </div>
        </div>
    </div>
    <div class="row property__gallery">
        <!-- Categories Section End -->
        @await Component.InvokeAsync("BlockVoucher");
    </div>
</div>

<!-- Product Section Begin -->
<section class="product spad">
    @await Component.InvokeAsync("BlockProductsByFilter", new BlockProductsByFilterRequestModel(){
        QueryModel = new ProductQueryModel(){
            PageSize=4,
        },
        ViewName="BlockProductsByFilter"
    })
       
</section>


<section class="product spad">
    @await Component.InvokeAsync("BlockProductsByFilter", new BlockProductsByFilterRequestModel()
{
    QueryModel = new ProductQueryModel()
    {
        PageSize=4,
        MainCategoryId=Guid.Parse("61646964-6173-0000-0000-000000000000")
    },
    ViewName="BlockProductsByFilter"
})

</section>

<section class="product spad">
    @await Component.InvokeAsync("BlockProductsByFilter", new BlockProductsByFilterRequestModel()
{
    QueryModel = new ProductQueryModel()
    {
        PageSize=4,
        MainCategoryId=Guid.Parse("41697220-4A6F-7264-616E-000000000000")
    },
    ViewName="BlockProductsByFilter"
})

</section>

<section class="product spad">
    @await Component.InvokeAsync("BlockProductsByFilter", new BlockProductsByFilterRequestModel()
{
    QueryModel = new ProductQueryModel()
    {
        PageSize=4,
        MainCategoryId=Guid.Parse("4E696B65-0000-0000-0000-000000000000")
    },
    ViewName="BlockProductsByFilter"
})

</section>

<!-- Product Section End -->
<!-- Banner Section Begin -->
<section class="banner set-bg" data-setbg="assets/images/banner/banner1.jpg">
    <div class="container">
        <div class="row">
            <div class="col-xl-7 col-lg-8 m-auto">
                <div class="banner__slider owl-carousel">
                    <div class="banner__item">
                        <div class="banner__text">
                            <span>Bộ sưu tập giày thể thao</span>
                            <h1 style="color : aliceblue">Giày chạy bộ</h1>
                            <a style="color : aliceblue" asp-controller="ListProducts" asp-action="ListProducts">Mua ngay</a>
                        </div>
                    </div>
                    <div class="banner__item">
                        <div class="banner__text">
                            <span>Bộ sưu tập giày thể thao</span>
                            <h1 style="color : aliceblue">Giày bóng rổ</h1>
                            <a style="color : aliceblue" asp-controller="ListProducts" asp-action="ListProducts">Mua ngay</a>
                        </div>
                    </div>
                    <div class="banner__item">
                        <div class="banner__text">
                            <span>Bộ sưu tập giày thể thao</span>
                            <h1 style="color : aliceblue">Giày tennis</h1>
                            <a style="color : aliceblue" asp-controller="ListProducts" asp-action="ListProducts">Mua ngay</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Banner Section End -->
<!-- Trend Section Begin -->
<section class="trend spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-6">
                <section class="product spad">
                    @await Component.InvokeAsync("BlockProductsByFilter", new BlockProductsByFilterRequestModel()
               {
                   QueryModel = new ProductQueryModel(){
                       PageSize=3
                   },
                   ViewName="BlockProductsByFilterUp"
               })
                </section>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-6">
                <section class="product spad">
                    @await Component.InvokeAsync("BlockProductsByFilter", new BlockProductsByFilterRequestModel()
               {
                   QueryModel = new ProductQueryModel()
                   {
                       PageSize=3
                   },
                   ViewName="BlockProductsByFilterUp"
               })
                </section>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-6">
                <section class="product spad">
                    @await Component.InvokeAsync("BlockProductsByFilter", new BlockProductsByFilterRequestModel()
               {
                   QueryModel = new ProductQueryModel()
                   {
                       PageSize=3
                   },
                   ViewName="BlockProductsByFilterUp"
               })
                </section>
            </div>
        </div>
    </div>
</section>
<section class="discount">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 p-0">
                <div class="discount__pic">
                    <img src="~/assets/images/discount.jpg" alt="">
                </div>
            </div>
            <div class="col-lg-6 p-0">
                <div class="discount__text">
                    <div class="discount__text__title">
                        <span>Giảm giá</span>
                        <h2>Hè 2025</h2>
                        <h5><span>Giảm</span> 50%</h5>
                    </div>
                    <div class="discount__countdown" id="countdown-time">
                        <div class="countdown__item">
                            <span>22</span>
                            <p>Ngày</p>
                        </div>
                        <div class="countdown__item">
                            <span>18</span>
                            <p>Giờ</p>
                        </div>
                        <div class="countdown__item">
                            <span>46</span>
                            <p>Phút</p>
                        </div>
                        <div class="countdown__item">
                            <span>05</span>
                            <p>Giây</p>
                        </div>
                    </div>
                    <a asp-controller="ListProducts" asp-action="ListProducts">Mua ngay</a>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Discount Section End -->
<!-- Services Section Begin -->
<section class="services spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="services__item">
                    <i class="fa fa-car"></i>
                    <h6>Miễn phí vận chuyển</h6>
                    <p>Cho tất cả đơn hàng trên $99</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="services__item">
                    <i class="fa fa-money"></i>
                    <h6>Hoàn tiền</h6>
                    <p>Nếu sản phẩm có vấn đề</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="services__item">
                    <i class="fa fa-support"></i>
                    <h6>Hỗ trợ trực tuyến 24/7</h6>
                    <p>Hỗ trợ tận tâm</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="services__item">
                    <i class="fa fa-headphones"></i>
                    <h6>Thanh toán an toàn</h6>
                    <p>Thanh toán 100% an toàn</p>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Services Section End -->
<!-- Instagram Begin -->
@await Component.InvokeAsync("SocialMedial");
<!-- Instagram End -->

<!--Add Voucher user-->
@section Scripts {
    <script>
        $(document).ready(function () {
            $('.save-voucher-btn').on('click', function () {
                const button = $(this);
                const voucherId = $(this).data('voucher-id');

                button.text('Đang lưu').prop('disabled', true).removeClass('btn-danger').addClass('btn-secondary');

                $.ajax({
                    url: '/voucher-user/save',
                    type: 'POST',
                    data: { id: voucherId },
                    success: function (response) {
                        button.text('Đã lưu').prop('disabled', true).removeClass('btn-danger').addClass('btn-secondary');
                        Swal.fire({
                            icon: 'success',
                            title: 'Lưu Voucher thành công!',
                            text: response.message,
                            confirmButtonText: 'OK'
                        }); // Thông báo khi thành công
                    },
                    error: function (xhr) {
                        button.text('Lưu').prop('disabled', false).removeClass('btn-secondary').addClass('btn-danger');
                        Swal.fire({
                            icon: 'error',
                            title: 'Lưu Voucher thất bại!',
                            text: xhr.responseJSON?.message || 'Đã xảy ra lỗi không xác định!',
                            confirmButtonText: 'Đóng'
                        }); // Thông báo khi thất bại
                    }
                });
            });
        });
    </script>
}